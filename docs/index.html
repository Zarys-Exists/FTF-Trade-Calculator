<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FTF Trade Calculator</title>
    <meta name="description" content="FTF trade calculator shows you whether your flee the facility 
    trades are fair, wins, or losses. It is easy to navigate, includes values for every item, and uses the official value list">
    <meta name="keywords" content="FTF, Flee The Facility, ftf trade calculator, Zarys's FTF calculator, ftf value list, zarys calculator">
    <meta name="author" content="Zarys">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Tags for Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="FTF Trade Calculator">
    <meta property="og:description" content="Evaluate your Flee The Facility trades with our FTF Trade Calculator. It uses the official values to determine if your trades are fair, wins, or losses.">
    <meta property="og:url" content="https://zarys-exists.github.io/FTF-Trade-Calculator/">
    <meta property="og:image" content="https://zarys-exists.github.io/FTF-Trade-Calculator/favicon/favicon-32x32.png">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D8W9RXNFB2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-D8W9RXNFB2');
    </script>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="apple-touch-icon" href="favicon/apple-touch-icon.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <script>
        // Set base href dynamically - use the path for GitHub Pages, root for local dev
        const base = document.createElement('base');
        if (!location.hostname.includes('localhost') && !location.hostname.includes('127.0.0.1')) {
            base.href = '/FTF-Trade-Calculator/';
        } else {
            base.href = '/';
        }
        document.head.appendChild(base);
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script>
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.documentElement.classList.add('dark-theme');
        }
    </script>
</head>
<body>
    <div class="site-header">
        <h1 class="site-title">Zarys's FTF Calculator</h1>
        <div class="nav-links">
            <a href="./" class="nav-link active">Trade Calculator</a>
            <a href="guide.html" class="nav-link">Use Guide</a>
            <button id="theme-toggle" class="theme-toggle" title="Toggle Dark Theme">Dark Mode</button>
        </div>
    </div>
    <div class="trade-page-container">
        <!-- WFL Bar -->
        <div class="wfl-bar-wrapper">
            <div class="wfl-bar-labels">
                <span>Win</span>
                <span>Fair</span>
                <span>Lose</span>
            </div>
            <div class="wfl-bar-track">
                <div id="wfl-bar-fill" class="wfl-bar-fill"></div>
            </div>
        </div>

        <div class="trade-layout">
            <!-- Your Offer Section -->
            <div class="offer-container">
                <h2>Your Offer</h2>
                <div class="trade-grid" id="your-offer-grid">
                    <!-- 9 item slots will be generated by JS -->
                </div>
                <div class="total-value" id="your-total">Total: 0 fv</div>
            </div>

            <!-- WFL Result Section -->
            <div class="wfl-container">
                <div id="wfl-result" class="wfl-result-fair">--</div>
                <button id="reset-trade-btn">Reset</button>
            </div>

            <!-- Their Offer Section -->
            <div class="offer-container">
                <h2>Their Offer</h2>
                <div class="trade-grid" id="their-offer-grid">
                    <!-- 9 item slots will be generated by JS -->
                </div>
                <div class="total-value" id="their-total">Total: 0 fv</div>
            </div>
        </div>
    </div>

    <!-- Item Selection Modal -->
    <div id="item-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Select an Item</h3>
            <div class="modal-body">
                <div class="rarity-sidebar">
                    <button class="rarity-filter-btn active" data-rarity="all">All</button>
                    <button class="rarity-filter-btn" data-rarity="legendary">Legendary</button>
                    <button class="rarity-filter-btn" data-rarity="epic">Epic</button>
                    <button class="rarity-filter-btn" data-rarity="rare">Rare</button>
                    <button class="rarity-filter-btn" data-rarity="common">Common</button>
                </div>
                <div class="item-display-area">
                    <input type="text" id="item-search" placeholder="Search for items...">
                    <div id="item-list" class="item-list">
                        <!-- Item list will be populated by JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="trade.js"></script>
</body>
</html>